# **브라우저의 저장소(LocalStorage, SessionStorage, Cookie)**

<br>

## **Web Storage (LocalStorage, SessionStorage)**

---

- HTML5부터 제공하는 기능이다.

- 특정 도메인과 관련된 데이터를 서버가 아니라 클라이언트 웹 브라우저에 저장한다.

- 키/값 쌍으로 데이터를 저장하고, 키를 기반으로 데이터를 조회한다.

- 영구저장소(LocalStorage)와 임시저장소(SessionStorage)를 따로 두고 있어 데이터의 지속성에 따라 선택이 가능하다.

- 쿠키와 마찬가지로 사이트의 도메인 단위로 접근이 제한된다. (A도메인에서 저장한 데이터는 B도메인에서 조회할 수 없다.)

<br>

## **Web Storage가 필요한 이유 (쿠키와의 차이점)**

---

<br>

- **용량의 제한** <br><br>
  쿠키는 개수와 용량에 제한이 있다. 클라이언트에 최대 300개의 쿠키를 저장할 수 있으며, 하나의 사이트(도메인)에서는 최대 20개를 저장할 수 있다. 또한, 하나의 쿠키값은 최대 4KB로 제한되어 있다. 그러나 Web Storage에는 제한이 없다.

<br>

- **서버 전송 여부** <br><br>
  쿠키는 모든 HTTP Request에 포함되어 있어 웹서비스 성능에 영향을 줄 수 있다. 웹사이트에서 쿠키를 설정하면 이후 모든 웹 요청은 쿠키정보를 포함해 서버로 전송된다. 이때 쿠키는 HTTP Request에 암호화 되지 않은 상태로 사용하기 때문에 보안에 취약하다. Web Storage는 저장된 데이터가 클라이언트에 존재할 뿐 서버로 전송되지는 않는다. 이는 네트워크 트래픽 비용을 줄여준다.

<br>

- **데이터의 형태** <br><br>
  쿠키는 문자열만 저장할 수 있지만 Web Storage는 구조화된 객체를 저장할 수 있다.(단, 브라우저의 지원 여부를 확인해봐야 한다.)

<br>

- **저장 기간** <br><br>
  쿠키는 만료일자를 지정하게 되어있어 언젠가 제거된다. 만약 만료일자를 지정하지 않으면 세션 쿠키가 되어 활성 웹 브라우저 세션이 있는 기간동안 저장된다. 세션쿠키는 일반적으로 웹 브라우저를 닫을 때 삭제된다. 이와 달리 Web Storage는 만료기간의 설정이 없어 영구 데이터 저장이 가능하다.

<br>

## **Web Storage의 종류**

---

<br>

### **LocalStorage**

- 저장한 데이터를 명시적으로 지우지 않는 이상 영구적으로 보관이 가능하다.

- 도메인마다 별도로 LocalStorage가 생성되기 때문에 도메인만 같으면 전역적으로 공유가 가능하다. (브라우저에서 같은 웹사이트를 여러 탭이나 창에 띄우면, 각 탭/창의 로컬 스토리지는 서로 데이터를 공유한다.)

<br>

### **SessionStorage**

- 브라우저가 열려있는 한 페이지를 Reload해도 계속 유지된다. 하지만 브라우저를 닫으면 삭제된다.

- 데이터의 지속성과 액세스 범위에 특수한 제한이 존재한다. 도메인별로 별도로 생성되며 같은 사이트의 같은 도메인이라도 브라우저가 다르면 서로 다른 영역이 된다. 브라우저 컨텍스트가 다르기 때문이다. (브라우저에서 같은 웹사이트를 여러 탭이나 창에 띄우면, 각 탭/창의 세션 스토리지는 각각 별개의 영역이 된다.)

<br>

## **참고**

---

- 브라우저의 저장소 https://velog.io/@design0728/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%A0%80%EC%9E%A5%EC%86%8C-LocalStorage-SessionStorage-Cookie
